(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{341:function(t,s,a){t.exports=a.p+"assets/img/logo.ed0fcf84.png"},342:function(t,s,a){t.exports=a.p+"assets/img/config-logo.3e10c5ac.jpg"},443:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"logo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#logo"}},[t._v("#")]),t._v(" logo")]),t._v(" "),n("p",[t._v("下图左上角箭头所指处就是平台的 "),n("code",[t._v("logo")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(341),alt:"logo"}})]),t._v(" "),n("p",[t._v("为了保持 "),n("code",[t._v("logo")]),t._v(" 的高保真，平台采用 "),n("code",[t._v("svg")]),t._v(" 作为 "),n("code",[t._v("logo")]),t._v(" 格式。自定义 "),n("code",[t._v("logo")]),t._v(" ，只需修改下图 "),n("code",[t._v("logo.svg")]),t._v(" 文件即可")]),t._v(" "),n("p",[n("img",{attrs:{src:a(342),alt:"config-logo"}})]),t._v(" "),n("p",[t._v("当然也可以自定义 "),n("code",[t._v("logo")]),t._v(" 格式。比如需要 "),n("code",[t._v("png")]),t._v(" 的图片，只需要把上图中 "),n("code",[t._v("logo.svg")]),t._v(" 换成所需的 "),n("code",[t._v("logo.png")]),t._v(" ，然后来到 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/src/layout/hooks/useNav.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("layout/hooks/useNav.ts"),n("OutboundLink")],1),t._v(" ，把 "),n("code",[t._v('"/logo.svg"')]),t._v(" 改成 "),n("code",[t._v('"/logo.png"')]),t._v(" 即可")]),t._v(" "),n("h2",{attrs:{id:"环境变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),n("h3",{attrs:{id:"配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),n("p",[t._v("一共 "),n("code",[t._v("四")]),t._v(" 个配置文件，都在平台根目录下，具体如下")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("├── .env                  # 基础环境变量配置文件（优先级最低）\n├── .env.development      # 开发环境变量配置文件\n├── .env.production       # 生产环境变量配置文件\n├── .env.staging          # 预发布环境变量配置文件\n")])])]),n("h3",{attrs:{id:"具体配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#具体配置"}},[t._v("#")]),t._v(" 具体配置")]),t._v(" "),n("p",[t._v("平台内置 "),n("code",[t._v("六")]),t._v(" 个环境变量，具体如下")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 平台本地运行端口号")]),t._v("\nVITE_PORT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8848")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 平台打包路径")]),t._v("\nVITE_PUBLIC_PATH "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" /\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 平台路由历史模式（Hash模式传"hash"、HTML5模式传"h5"、Hash模式带base参数传"hash,base参数"、HTML5模式带base参数传"h5,base参数"）')]),t._v("\nVITE_ROUTER_HISTORY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否在打包时使用cdn替换本地库 替换 true 不替换 false")]),t._v("\nVITE_CDN "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启用gzip压缩或brotli压缩（分两种情况，删除原始文件和不删除原始文件）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 压缩时不删除原始文件的配置：gzip、brotli、both（同时开启 gzip 与 brotli 压缩）、none（不开启压缩，默认）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 压缩时删除原始文件的配置：gzip-clear、brotli-clear、both-clear（同时开启 gzip 与 brotli 压缩）、none（不开启压缩，默认）")]),t._v("\nVITE_COMPRESSION "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否隐藏首页 隐藏 true 不隐藏 false （勿删除，VITE_HIDE_HOME只需在.env文件配置）")]),t._v("\nVITE_HIDE_HOME "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),n("h3",{attrs:{id:"基础用法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础用法"}},[t._v("#")]),t._v(" 基础用法")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://cn.vitejs.dev/guide/env-and-mode.html#env-files",target:"_blank",rel:"noopener noreferrer"}},[t._v(".env 文件"),n("OutboundLink")],1),t._v(" "),n("Badge",{attrs:{text:"vite文档"}})],1),t._v(" "),n("div",{staticClass:"language-Ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VITE_PUBLIC_PATH")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("meta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前环境变量VITE_PUBLIC_PATH为："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VITE_PUBLIC_PATH")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("知识点：如何在 .vue 或 .ts 文件中判断当前是开发环境还是生产环境？")]),t._v(" "),n("p",[t._v("打印 "),n("code",[t._v("process.env.NODE_ENV")]),t._v("，值为 "),n("code",[t._v("development")]),t._v(" 代表是开发环境，值为 "),n("code",[t._v("production")]),t._v(" 代表是生产环境")])]),t._v(" "),n("h3",{attrs:{id:"如何添加自定义配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何添加自定义配置"}},[t._v("#")]),t._v(" 如何添加自定义配置")]),t._v(" "),n("p",[t._v("比如要在 "),n("code",[t._v(".env.production")]),t._v(" 文件添加自定义配置 "),n("code",[t._v("VITE_HANDSOME = true")]),t._v("，作为一种规范推荐使用 "),n("code",[t._v("VITE_")]),t._v(" 作为自定义配置前缀")]),t._v(" "),n("p",[t._v("① 在 "),n("code",[t._v(".env.production")]),t._v(" 中加入 "),n("code",[t._v("VITE_HANDSOME = true")]),t._v("，具体如下")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自定义配置")]),t._v("\nVITE_HANDSOME "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),n("p",[t._v("② 加入类型支持，在 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/types/global.d.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("interface ViteEnv"),n("OutboundLink")],1),t._v(" 里加上 "),n("code",[t._v("VITE_HANDSOME: boolean")]),t._v("，具体如下")]),t._v(" "),n("div",{staticClass:"language-Ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ViteEnv")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VITE_HANDSOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("③ 设置默认值，在 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/build/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("build/index.ts"),n("OutboundLink")],1),t._v(" 文件的 "),n("code",[t._v("ret")]),t._v(" 变量上加上 "),n("code",[t._v("VITE_HANDSOME: true")]),t._v("，具体如下")]),t._v(" "),n("div",{staticClass:"language-Ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ret"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ViteEnv "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VITE_HANDSOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"platform-config-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#platform-config-json"}},[t._v("#")]),t._v(" "),n("code",[t._v("platform-config.json")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/public/platform-config.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("platform-config.json"),n("OutboundLink")],1),t._v(" 配置文件在任何环境下修改都可生效")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台版本号")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RonnaAdmin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台标题")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"FixedHeader"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否固定页头和标签页（true 内容区超出出现纵向滚动条 false 页头、标签页、内容区可纵向滚动）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"HiddenSideBar"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 隐藏菜单和页头，只显示标签页和内容区")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"MultiTagsCache"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否开启持久化标签 （会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"KeepAlive"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否开启组件缓存（此处不同于路由的 keepAlive，如果此处为 true 表示设置路由的 keepAlive 起效，反之设置 false 屏蔽平台整体的 keepAlive，即使路由设置了keepAlive 也不再起作用）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Locale"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认国际化语言 （zh 中文、en 英文）（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Layout"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vertical"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导航菜单模式 （vertical 左侧菜单模式、horizontal 顶部菜单模式、mix 综合菜单模式）（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Theme"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主题模式（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"DarkMode"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否开启暗黑模式 （会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"OverallStyle"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 整体风格（浅色：light、深色：dark、自动：system）（会缓存）更多详情看 https://github.com/ronnaces/ronna-admin/commit/dd783136229da9e291b518df93227111f4216ad0#commitcomment-137027417")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Grey"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 灰色模式（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Weak"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 色弱模式（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"HideTabs"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否隐藏标签页（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"HideFooter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否隐藏页脚（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"SidebarStatus"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vertical左侧菜单模式模式下侧边栏状态（true 展开、false 收起）（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"EpThemeColor"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#409EFF"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主题色（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ShowLogo"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否显示logo（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ShowModel"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"smart"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标签页风格（smart 灵动模式、card 卡片模式）（会缓存）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"MenuArrowIconNoTransition"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 菜单展开、收起图标是否开启动画，如遇菜单展开、收起卡顿设置成 true 即可（默认 false，开启动画）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"CachingAsyncRoutes"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否开启动态路由缓存本地的全局配置，默认 false")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"TooltipEffect"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可配置平台主体所有 el-tooltip 的 effect 属性，默认 light，不会影响业务代码")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ResponsiveStorageNameSpace"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"responsive-"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 本地响应式存储的命名空间")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"MenuSearchHistory"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 菜单搜索历史的最大条目")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("开发、生产环境修改都可生效，上面 "),n("code",[t._v("platform-config.json")]),t._v(" 文件标记 "),n("code",[t._v("会缓存")]),t._v(" 即配置会缓存在本地浏览器，应先清空浏览器缓存才能生效")])]),t._v(" "),n("h3",{attrs:{id:"基础用法-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础用法-2"}},[t._v("#")]),t._v(" 基础用法")]),t._v(" "),n("p",[t._v("平台将 "),n("code",[t._v("platform-config.json")]),t._v(" 中所有配置都已经注册到 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/src/config/index.ts#L31",target:"_blank",rel:"noopener noreferrer"}},[t._v("$config"),n("OutboundLink")],1),t._v(" 这个全局属性对象上，应用内所有组件实例都可访问 "),n("a",{attrs:{href:"https://cn.vuejs.org/api/application.html#app-config-globalproperties",target:"_blank",rel:"noopener noreferrer"}},[t._v("globalproperties"),n("OutboundLink")],1)]),t._v(" "),n("h4",{attrs:{id:"vue-文件中使用-setup-语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-文件中使用-setup-语法"}},[t._v("#")]),t._v(" "),n("code",[t._v(".vue")]),t._v(" 文件中使用（"),n("code",[t._v("setup")]),t._v(" 语法）")]),t._v(" "),n("div",{staticClass:"language-Vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getCurrentInstance "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Version "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentInstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalProperties"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Version："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h4",{attrs:{id:"vue-文件中使用-非-setup-语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-文件中使用-非-setup-语法"}},[t._v("#")]),t._v(" "),n("code",[t._v(".vue")]),t._v(" 文件中使用（非 "),n("code",[t._v("setup")]),t._v(" 语法）")]),t._v(" "),n("div",{staticClass:"language-Vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("Version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h4",{attrs:{id:"ts-或-vue-中使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ts-或-vue-中使用"}},[t._v("#")]),t._v(" "),n("code",[t._v(".ts")]),t._v(" 或 "),n("code",[t._v(".vue")]),t._v(" 中使用")]),t._v(" "),n("p",[t._v("具体实现代码位置 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/src/config/index.ts#L11",target:"_blank",rel:"noopener noreferrer"}},[t._v("config/index.ts"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-Ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getConfig "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/config"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Version："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("Version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"如何添加自定义配置-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何添加自定义配置-2"}},[t._v("#")]),t._v(" 如何添加自定义配置")]),t._v(" "),n("p",[t._v("比如要添加的自定义配置为 "),n("code",[t._v("Handsome: true")])]),t._v(" "),n("p",[t._v("① 在 "),n("code",[t._v("platform-config.json")]),t._v(" 中加入 "),n("code",[t._v("Handsome: true")]),t._v("，具体如下")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Handsome"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("② 加入类型支持，在 "),n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/types/global.d.ts#L84",target:"_blank",rel:"noopener noreferrer"}},[t._v("interface PlatformConfigs"),n("OutboundLink")],1),t._v(" 里加上 "),n("code",[t._v("Handsome?: boolean")]),t._v("，具体如下")]),t._v(" "),n("div",{staticClass:"language-Ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlatformConfigs")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Handsome"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据实际类型编写")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"package-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[t._v("#")]),t._v(" "),n("code",[t._v("package.json")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/ronnaces/ronna-admin/blob/main/package.json#L6-24",target:"_blank",rel:"noopener noreferrer"}},[t._v("package.json"),n("OutboundLink")],1),t._v(" 文件中的 "),n("code",[t._v("scripts")]),t._v(" 配置中存放平台的各种命令，具体如下")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NODE_OPTIONS=--max-old-space-size=4096 vite"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动平台")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"serve"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pnpm dev"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动平台（有人喜欢dev、有人喜欢serve）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rimraf dist && NODE_OPTIONS=--max-old-space-size=8192 vite build"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包平台（rimraf 包的作用：以包的形式包装rm -rf命令，用来删除文件和文件夹的，不管文件夹是否为空，都可删除）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build:staging"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rimraf dist && vite build --mode staging"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包平台（预发布环境）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"report"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rimraf dist && vite build"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包平台并生产平台包文件大小图形化分析")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preview"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite preview"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 预览平台，需先打包（无需安装live-server等工具，vite自带预览功能）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preview:build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pnpm build && vite preview"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包并预览平台（无需安装live-server等工具，vite自带预览功能）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typecheck"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tsc --noEmit && vue-tsc --noEmit --skipLibCheck"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用vue-tsc工具对指定的.ts、.tsx、.vue文件进行类型校验")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"svgo"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"svgo -f . -r"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 压缩当前目录下的所有SVG文件，更多详情看 https://github.com/ronnaces/ronna-admin/commit/a114dbb4652d6316853d75ff127180fc07d07d2b#commitcomment-136451628")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cloc"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NODE_OPTIONS=--max-old-space-size=4096 cloc . --exclude-dir=node_modules --exclude-lang=YAML"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台文件、语言分析")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clean:cache"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rimraf .eslintcache && rimraf node_modules && pnpm install"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除node_modules、清空eslint缓存并重新安装平台依赖")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint:eslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --max-warnings 0  \\"{src,mock,build}/**/*.{vue,js,ts,tsx}\\" --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint修复")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint:prettier"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write  \\"src/**/*.{js,ts,json,tsx,css,scss,vue,html,md}\\""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prettier格式化")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint:stylelint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --cache --fix \\"**/*.{html,vue,css,scss}\\" --cache --cache-location node_modules/.cache/stylelint/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// stylelint格式化修复")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pnpm lint:eslint && pnpm lint:prettier && pnpm lint:stylelint"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台整体lint格式化并修复")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prepare"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"husky"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自动生成husky（https://typicode.github.io/husky/#/）")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preinstall"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx only-allow pnpm"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只允许运行pnpm命令，如果您换成yarn、npm需要把这行删除（https://pnpm.io/zh/only-allow-pnpm）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);